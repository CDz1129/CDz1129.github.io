---
layout:     post
title:      Golangå­¦ä¹ ç¬”è®°å…­
subtitle:   stringç¼–ç 
date:       2019-01-17
author:     CDz
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - Golang
---



# åˆ†è§£æ¢ç´¢stringç¼–ç 
## è½¬ä¸ºbyteæ•°ç»„
```
func main() {
    s := "Hiå°æ™ºåŠ æ²¹!"

    fmt.Println("len(s):",len(s)) //len(s): 15 ä¸ºä»€ä¹ˆæ˜¯15å‘¢?

    for _, v := range []byte(s) {
        fmt.Printf("%X ",v) //%X è½¬ä¸º16è¿›åˆ¶
        //48 69 E5 B0 8F E6 99 BA E5 8A A0 E6 B2 B9 21
        //çŒœæµ‹ä»ç¬¬ä¸‰ä¸ªå¼€å§‹(E5 B0 8F) -> å° ,åé¢éƒ½æ˜¯ä¸‰ä¸ªå­—èŠ‚ä»£è¡¨ä¸€ä¸ªæ±‰å­—
        //å…¶å®utf-8 æ˜¯ä½¿ç”¨çš„å¯å˜é•¿åº¦æ¥ç¼–ç çš„(ä¸–ç•Œä¸Šè¿™ä¹ˆå¤šè¯­è¨€,å¦‚æœå…¨éƒ¨éƒ½æ˜¯3ä¸ªç›´æ¥æ¥ç¼–ç ,å¤ªæµªè´¹ç©ºé—´)
    }
}
```

é€šè¿‡æ‰“å°æˆ‘ä»¬çŒœæµ‹,è¿™ä¸ªbyteæ•°ç»„ä¸­,ä¸­æ–‡æ±‰å­—æ˜¯ä½¿ç”¨3ä¸ªå­—èŠ‚æ¥ç¼–ç 



## ç›´æ¥éå†string
éªŒè¯:ä¸Šè¿°çŒœæƒ³
```
func main() {
    for k, v := range s {   //v is a rune
        fmt.Printf("(%d,%X)",k,v)
    //(0,48)(1,69)(2,5C0F)(5,667A)(8,52A0)(11,6CB9)(14,21)
    }
}
```
å¦‚å›¾`for k, v := range s `çš„`v`æ˜¯ä¸€ä¸ªint32ç±»å‹:

![stringéå†çš„value](http://wx3.sinaimg.cn/mw690/63d77fe7gy1fzalh8fyq4j20iw02idg0.jpg)

å‘ç°ä»ç¬¬ä¸‰ä¸ªå¼€å§‹æ±‰å­—,ä¸‹æ ‡æ­£ç¡®2,ä½†æ˜¯ä¸‹ä¸€ä¸ªå°±å˜æˆäº†5,è¿™è¯´æ˜,ä¸Šé¢è½¬ä¸ºbyteæ•°ç»„æ—¶æˆ‘ä»¬çš„çŒœæƒ³æ˜¯æ­£ç¡®çš„,
ä¸€ä¸ªæ±‰å­—ä½¿ç”¨äº†3ä¸ªbyteæ¥è¡¨ç¤º,ä½†æ˜¯è¿™æ ·éå† æ ¹æœ¬ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„,å› ä¸ºä¸‹æ ‡çš„é—®é¢˜.

æ€»ç»“:æ—¢ ç›´æ¥éå†å­—ç¬¦ä¸²æ—¶,k ä¸º byteæ•°ç»„çš„ä¸‹æ ‡ è€Œ v å´æ˜¯int32ç±»å‹(rune)

## utf8å·¥å…·ç±»è§£ç 
```
    //ä½¿ç”¨ utf8å·¥å…·ç±»
    fmt.Println("s rune counts:",utf8.RuneCountInString(s))
    //s rune counts: 7 ,å‘ç°æ˜¯sçš„é•¿åº¦æ˜¯æˆ‘ä»¬æƒ³è¦çš„äº†
```

æ—¢ç„¶å¯ä»¥å¾—åˆ°æ­£ç¡®çš„é•¿åº¦äº†,å°è¯•ä¸€ä¸ªå­—ä¸€ä¸ªå­—è§£ç 
```
    bytes := []byte(s)
    for len(bytes)>0 {
        ch, size := utf8.DecodeRune(bytes) 
        //è§£ç byteæ•°ç»„ è¿”å›runeå’Œsizeé•¿åº¦
        bytes = bytes[size:] 
        //æˆªå–byte
        fmt.Printf("%c " ,ch)
    }
```
```
H i å° æ™º åŠ  æ²¹ !  //å‘ç°æ¯ä¸ªå­—ç¬¦éƒ½è¢«è§£ç å‡ºæ¥äº†
```

# ç»“è®º
åœ¨goä¸­,runeå°±ç›¸å½“äºJavaä¸­çš„char,è€Œruneæ˜¯uft8ç¼–ç 

æ­£å¸¸éå†ä¸€ä¸ªstringçš„æ–¹æ³•

```
    fmt.Println();
    for k, v := range []rune(s) { //ç›´æ¥å°†stringè½¬ä¸ºruneåˆ‡ç‰‡
        fmt.Printf("(%d %c)",k,v) //%c å¯ä»¥å°†runeè½¬ä¸º å­—ç¬¦ä¸²
    }
```

```
(0 H)(1 i)(2 å°)(3 æ™º)(4 åŠ )(5 æ²¹)(6 !) å¾—åˆ°äº†æˆ‘ä»¬æƒ³è¦çš„ç­”æ¡ˆ.
```

# TEST:æŸ¥æ‰¾åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æœ€é•¿ä¸é‡å¤å­—ç¬¦ä¸²(å›½é™…ç‰ˆ)

è¿™é‡Œç›´æ¥è·³è¿‡äº†è¿™ä¸ªtestçš„è§£é¢˜æ€è·¯,å¦‚æœæ²¡æœ‰çœ‹è¿‡çš„åŒå­¦, [ç‚¹å‡»ä¸Šç¯‡æŸ¥çœ‹](https://cdz1129.github.io/2019/01/17/golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%BA%94/#map%E5%B0%8F%E6%B5%8B%E8%AF%95)

```
func findMaxNoRepeatString(s string) int {

    start := 0
    keysIndex := make(map[rune]int)
    lenth := 0

    for i, v := range []rune(s) { //å°†byteæ¢æˆruneå³å¯
        lastIndex, ok := keysIndex[v]
        if ok && lastIndex >= start {
            start = lastIndex + 1
        } else {
            lenth = i - start + 1
        }
        keysIndex[v] = i
    }
    return lenth
}
```

------
ä½œè€…æ‰€æœ‰çš„å­¦ä¹ æºç åœ¨ [goå­¦ä¹ æºç githubåœ°å€](https://github.com/CDz1129/golang-learn),å¦‚æœè§‰å¾—æœ‰ç”¨çš„è¯å¸®å°æ™ºè´¡çŒ®ä¸€ä¸ªstarğŸ˜
