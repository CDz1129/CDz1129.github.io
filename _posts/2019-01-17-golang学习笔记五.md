---
layout:     post
title:      Golangå­¦ä¹ ç¬”è®°äº”
subtitle:   map
date:       2019-01-17
author:     CDz
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - Golang
---

# mapçš„åˆ›å»º
```
func main() {
    //åˆ›å»º map
    studens := map[string]string{
        "name": "å¼ ä¸‰",
        "age":  "18",
        "sex":  "ç”·",
    } //ç›´æ¥åˆ›å»ºæœ‰å€¼çš„map 

    var m2 map[string]int  //map == nil

    m3 := make(map[string]string) //map == empty map
}
```

å¯ä»¥çœ‹å‡º,åœ¨goä¸­å¯ä»¥åˆ›å»ºmapçš„æ–¹å¼è¿˜æ˜¯å¾ˆå¤šçš„,å°±ç®—æ˜¯ä¸åˆå§‹åŒ–,ä¹Ÿå¯ä»¥èµ‹å€¼

## map keyçš„ç±»å‹

åœ¨mapçš„keyå¯ä»¥ä½¿ç”¨é‚£äº›ç±»å‹?

- é¦–å…ˆmapæ˜¯ä½¿ç”¨å“ˆå¸Œè¡¨çš„,å¿…é¡»å¯ä»¥æ¯”è¾ƒç›¸ç­‰
- é™¤äº†slice,map,function çš„å†…å»ºç±»å‹å…¶ä»–çš„éƒ½å¯ä»¥ä½œä¸ºkey
- struct ç±»å‹ä¸åŒ…å«ä»¥ä¸Šå­—æ®µçš„ä¹Ÿå¯ä»¥ä½œä¸ºkey(struct ç±»å‹åé¢ä¼šä¸“é—¨å†™é“)

# mapå–å€¼

```
    //è·å–keyå…ƒç´ 
    name := studens["name"]
    fmt.Println(name) //"å¼ ä¸‰"
```

å–å‡ºä¸å­˜åœ¨çš„å…ƒç´ å‘¢?
```
    //è·å–ä¸å­˜åœ¨å…ƒç´ 
    idCard := studens["idCard"]
    fmt.Println(idCard) //æ‰“å°ç©º ""æ‰€ä»¥æˆ‘ä»¬æ€ä¹ˆåˆ¤æ–­,keyæ˜¯å¦å–åˆ°äº†å‘¢?
```

keyæ˜¯å¦å–åˆ°äº†å‘¢?
```
    idCard,ok := studens["idCard"] //å…¶å® è·å–mapå¯ä»¥è¿”å›ä¸¤ä¸ªå‚æ•°,ç¬¬äºŒä¸ªå°±æ˜¯boolç±»å‹,falseè¡¨ç¤ºä¸å­˜åœ¨
    fmt.Println(idCard,ok) // æ‰“å° "" false
    if idCard,ok := studens["idCard"];ok {
        fmt.Println(idCard)
    }else {
        fmt.Println("key idCard not exist")
    }// key idCard not exist
```

# mapéå†
```
    //éå† map
    fmt.Println("----------key valueä¸€èµ·éå†------\n")
    //key valueä¸€èµ·éå†
    for k, v := range studens {
        fmt.Println(k,v)
    }
    fmt.Println("---------åªéå†key-------\n")
    //åªéå†key
    for k := range studens {
        fmt.Println(k)
    }

    fmt.Println("---------åªéå† value-------\n")
    //åªéå† value
    for _, v := range studens {
        fmt.Println(v)

    }
```

éå†å°±å¾ˆç®€å•äº†,å¯ä»¥ä½¿ç”¨rangeå…³é”®å­—

# mapåˆ é™¤

ç›´æ¥ä½¿ç”¨deleteå‡½æ•°åˆ é™¤
```
    //åˆ é™¤å­˜åœ¨çš„é”®
    delete(studens, "age")
    fmt.Println("delete age after:",studens) //delete age after: map[sex:ç”· name:å¼ ä¸‰]

    //åˆ é™¤ä¸å­˜çš„é”®
    delete(studens,"idCard")
    fmt.Println("delete ont exist key after:",studens) //delete ont exist key after: map[name:å¼ ä¸‰ sex:ç”·]
```

# mapå°æµ‹è¯•
æ‰“å°å‡ºå­—ç¬¦ä¸²ä¸­æœ€é•¿ä¸é‡å¤å­—ç¬¦é•¿åº¦

ä¸¾ä¾‹:
```
"asdjkh" -> "asdjkh" 6ä¸ªå­—ç¬¦
"aaaa"   -> "a"      1ä¸ªå­—ç¬¦
"abccba" -> "abc"    3ä¸ªå­—ç¬¦
```

æˆ‘ä»¬å…ˆæ¥æ•´ç†æ€è·¯,å…¶å®è¿™ä¸ªé¢˜ä½¿ç”¨mapæ¥åšå°±ä¼šéå¸¸çš„ç®€å•,å¦‚å›¾:

![ä¸é‡å¤å­—ç¬¦é•¿åº¦æ€è·¯](http://wx1.sinaimg.cn/large/63d77fe7gy1fz9oa3qxqbj20cb06yglr.jpg)

å®ç°ä»£ç :
```
package main

import "fmt"

/**
æŸ¥æ‰¾åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­
æœ€é•¿ä¸é‡å¤å­—ç¬¦ä¸²

ä¾‹å¦‚ï¼š
asdasdss -> asd
*/

func findMaxNoRepeatString(s string) int {

    start := 0
    keysIndex := make(map[byte]int)
    lenth := 0

    for i, v := range []byte(s) {   //è¿™é‡Œå°†å­—ç¬¦ä¸²è½¬ä¸º byteæ•°ç»„çš„åŸå› ,stringéå†æ¯ä¸€ä¸ªå…ƒç´ æ˜¯int32ç±»å‹
        lastIndex, ok := keysIndex[v]
        if ok && lastIndex >= start {
            start = lastIndex + 1
        } else {
            lenth = i - start + 1
        }
        keysIndex[v] = i
    }
    return lenth

}

func main() {
    fmt.Println(findMaxNoRepeatString("abc"))       //3
    fmt.Println(findMaxNoRepeatString("abccba"))    //3
    fmt.Println(findMaxNoRepeatString("aaaaa"))     //1
    fmt.Println(findMaxNoRepeatString(""))          //0
    fmt.Println(findMaxNoRepeatString("asdfghjk"))  //8
}
```

æ€è·¯æ˜¯å¯¹çš„,ä¹Ÿå‡ºç°ç»“æœäº†,ä½†æ˜¯å…¶å®è¿˜æ˜¯æœ‰bugçš„.

```
    fmt.Println(findMaxNoRepeatString("æˆ‘æ˜¯å°æ™º"))  //8
    fmt.Println(findMaxNoRepeatString("å°æ™ºæ™ºå°"))  //6
```
å‘ç°è¿™ä¸ª 8 å’Œ 6 æ˜¯ä»€ä¹ˆé¬¼?æƒ³åˆ°ææ¸…æ¥šè¿™ä¸ªé—®é¢˜,å°±éœ€è¦äº†è§£,goçš„å­—ç¬¦ä¸²ç¼–ç ,goä¸­æ˜¯ä½¿ç”¨utfç¼–ç (å¯å˜é•¿åº¦ç¼–ç ).
ä¸‹ç« ä¸“é—¨è®²è§£ [goçš„stringç¼–ç ](https://cdz1129.github.io/2019/01/17/golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%85%AD/).

------
ä½œè€…æ‰€æœ‰çš„å­¦ä¹ æºç åœ¨ [goå­¦ä¹ æºç githubåœ°å€](https://github.com/CDz1129/golang-learn),å¦‚æœè§‰å¾—æœ‰ç”¨çš„è¯å¸®å°æ™ºè´¡çŒ®ä¸€ä¸ªstarğŸ˜
