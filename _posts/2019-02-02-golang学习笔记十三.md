---
layout:     post
title:      Golangå­¦ä¹ ç¬”è®°åä¸‰
subtitle:   é¢å‘æ¥å£-å¸¸ç”¨ç³»ç»Ÿæ¥å£
date:       2019-02-01
author:     CDz
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - Golang
---

# stringeræ¥å£
åœ¨printåŒ…ä¸‹`stringer`æ¥å£
```
// Stringer is implemented by any value that has a String method,
// which defines the ``native'' format for that value.
// The String method is used to print values passed as an operand
// to any format that accepts a string or to an unformatted printer
// such as Print.
type Stringer interface {
    String() string
}
```

è¿™ä¸ªæ¥å£,ç±»ä¼¼äºJavaä¸­é‡å†™é€štostringæ–¹æ³•.

å¯¹`mook.Retriever`ç»“æ„å®ç°Stringeræ¥å£:
```
package mook

import "fmt"

type Retriever struct {
    Contents string
}

func (r *Retriever) String() string {
    return fmt.Sprintf("Retriever{Contents=%v}", r.Contents)
}

func (r *Retriever) Post(url string, params map[string]string) string {
    r.Contents = params["contents"]
    return "ok"
}


func (r *Retriever) Get(url string) string {
    return r.Contents
}
```

```

func main() {
    retriever := &mook.Retriever{"this is a fake imooc.com"}
    var r Retriever = retriever
    fmt.Println(r)
    r= real2.Retriever{
        UserAgent:"Mozilla/5.0",
        TimeOut:time.Minute,
    }
    fmt.Println(r)
}
```

æ‰“å°:
```
Retriever{Contents=another a fake imooc.com} 
{Mozilla/5.0 1m0s}
```
mook.Retrieverå®ç°äº†stringeræ¥å£,å·²è‡ªå®šä¹‰å½¢å¼ç­”åº”.real2.Retrieveræ²¡æœ‰å®ç°stringeræ¥å£,æ‰€ä»¥é»˜è®¤æ‰“å°å½¢å¼.

# readã€writeæ¥å£

read,writeæ¥å£æœ‰å¾ˆå¤šç”¨å¤„,æ¯”å¦‚æˆ‘ä»¬ä¹‹å‰[Golangå­¦ä¹ ç¬”è®°äºŒ](https://cdz1129.github.io/2019/01/13/Golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%BA%8C/#for%E5%8F%AA%E6%9C%89%E5%88%A4%E6%96%AD%E6%9D%A1%E4%BB%B6)ä¸­å­¦ä¹ ifåˆ¤æ–­è¯­å¥ä¸­,å†™çš„`printFile`å‡½æ•°,å…¶å®è¿™é‡Œçš„fileç±»å°±æ˜¯å®ç°äº†readå’Œwriteæ¥å£,æ‰€ä»¥å…¶å®æ­¤æ—¶,æˆ‘ä»¬ä½¿ç”¨readæ¥å£ä½œä¸ºå‚æ•°,æ‹“å±•æ€§ä¼šæ›´å¥½.

æ”¹é€ ä¹‹å:

```

func printFile(filename string) {

    file, e := os.Open(filename)

    if e != nil {
        panic(e)
    }

    printContentFile(file)

}

func printContentFile(reader io.Reader) {//ä½¿ç”¨readeræ¥å£ä½œä¸ºå‚æ•°
    scanner := bufio.NewScanner(reader)
    for scanner.Scan() {
        println(scanner.Text())
    }
}
```

å½“æˆ‘ä»¬ä½¿ç”¨readeræ¥å£ä½œä¸ºå‚æ•°å,å°±ä¸æ­¢æ‰“å°æ–‡ä»¶å†…çš„ä¿¡æ¯,è¿˜å¯ä»¥æ‰“å°å­—ç¬¦ä¸²:
```
func main() {
    printFile("basic/adc.txt")
    println("---------")
    s:=`asd

    sss
    www
    111
    1` //ä½¿ç”¨``æ¡†èµ·æ¥çš„å­—ç¬¦ä¸²,å¯ä»¥åšå‡ºæ¢è¡Œä¸å¼•å·çš„å­—ç¬¦ä¸²
    printContentFile(strings.NewReader(s))
    //forever()
}
```
æ‰“å°:
```
asdd
1111
cccc
wqwe
---------
asd

    sss
    www
    111
    1
```

------
ä½œè€…æ‰€æœ‰çš„å­¦ä¹ æºç åœ¨ [goå­¦ä¹ æºç githubåœ°å€](https://github.com/CDz1129/golang-learn),å¦‚æœè§‰å¾—æœ‰ç”¨çš„è¯å¸®å°æ™ºè´¡çŒ®ä¸€ä¸ªstarğŸ˜
